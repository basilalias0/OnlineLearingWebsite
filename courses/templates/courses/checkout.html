{% extends 'courses/base.html' %}
{% block title %} Checkout {% endblock title %}
{% block content %}
    <div class="container">

        <div class="row ">
            <div class="col mr-auto ">
                  <div class="card" style=";padding-top: 10px;margin-top:10px">
                        <div style="width:100%; text-align:center">
                      <img class="card-img-top" style="width: 12rem;height: 10rem" src="{{course.thumbnail}}"
                           alt="Card image cap">
                        </div>
                      <div class="card-body">
                          <p class="display-5"><b>{{course.name}}</b></p>
                          <hr>
                          <p class="display-7">{{course.description}}</p>
                          <hr>
                          <p class="display-6">Payable amount: <b>â‚¹{{course.price}}</b></p>
                          <a class="btn  border"href="?action=create_payment">Click to enroll</a>
                      </div>
                      </div>
            </div>
        </div>
    </div>
{% if order is not None %}


<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script>
var options = {
    "key": "rzp_test_OxL33XocIyAOiB",
    "currency": "INR",
    "name": "{{user.name}}",
    "description": "Transaction for {{course.name}}",
    "image": "data:image/jpeg;base64,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",
    "order_id": "{{order.id}}",
    "callback_url": "http://localhost:8000/verify_payment",
    "prefill": {
        "name": "{{user.name}}",
        "email": "{{user.email}}",
    },

    "theme": {
        "color": "#3399cc"
    }
}
var rzp1 = new Razorpay(options)
    rzp1.open()
</script>

{% endif %}

{% if error is not None %}

<script>

    window.onload = ()=>{
    alert("{{error}}")}

</script>

{% endif %}

{% endblock content %}